### 请问一下，接口返回的数据是一个字符串，用 hzero 中的调接口的方法调用时，接口能调通但拿不到数据
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120546033-1780034287.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120554171-478370336.png)


>加上responseType: 'text',
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120608437-1146588894.png)

好的，谢谢


### 请问登录名属性和邮箱属性这字段怎么填啊，我的连接信息如上图
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120627934-1128275638.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120632516-307708276.png)

>登录进去看结构，不是看登录信息

结构这样的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120654534-544681539.png)

>这不有了吗，用户名uid
>邮箱你找找，就是它的key，这个要根据自己的实际情况来

这个必须有个邮箱属性吗
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120716896-533875385.png)

>是的  应该也可以不需要，后面我们看看，是否去掉这个限制



### 请问为什么只有这个表的created_by要求是无符号呢，在插入-1的时候就报错了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120846700-43369438.png)

>>=0

我看其他的表没有这个要求

>有这个限制也没有多大问题，这个是历史原因，最开始猪齿鱼框架有些表有这个限制，后来我们自己建的表就没有限制了

我自己用0租户登录的，我暂时也没看懂这个createdBy是怎么为-1的
我在ldap同步用户的时候，在这个表插入数据的时候报错的

>那先去掉控制，这个我们处理下




### 问一下关于布局的问题，我改变了布局之后，要等很久这个布局才能发生改变，这个布局的加载是写在哪个地方的？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120741360-181816102.png)

>系统配置这里设置后需要刷新界面，个人中心配置后界面自动刷新生效 ，优先级：个人中心>系统配置

好嘞，看到了，谢谢




### 我想问下关于spring security的问题，前端界面上碰到了x-frame-options deny这个问题，然后我把x-frame-options disable掉，发现post和put请求全都报403了。想问下有没有解决办法
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120812674-2074011101.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312120822593-1052427874.png)

有大佬知道这个怎么弄吗



### 有大佬知道HZERO有在线产品介绍预览功能吗？类似于ORACLE EBS上点击“？”后的跳转到当前页面的功能介绍中。 如果没有的话，麻烦也告知一声，谢谢啦

>这个需要自己开发，我们有提供组件，可以结合系统的静态文本功能去维护内容

可以将燕千云中知识库里的内容添加进去吗，那样就不只是静态文本了。我们还需要有些目录和链接跳转。

>富文本编辑器，可以放链接什么的
>这个自己编辑内容

有demo环境先看下功能吗？

>你们没有环境吗？

有，但是不知道哪里找，HZERO介绍上也没有看到说明

>这个只是一个功能，可以搞定很多事情，就看怎么用
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121030834-1254218430.png)


嗯，了解了。如果需要直接将燕千云上的资料跳转的话，需要自己开发是吧
后期中台也没有类似的开发计划吗
应该每个产品都会有这种需求的

>富文本编辑器可以编辑很多东西，编辑一个网页都可以，内容要自己去写，跳转不就是一个超链接吗，你可以去自己尝试编辑下

![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121153372-1646243224.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121201107-782333267.png)

知道了，谢谢。主要是公司规定产品使用燕千云的知识管理，我们都在上面编辑好了，想着直接看能不能使用，否则后期需要在多个地方维护相同的文档。



### 请问这个扫描按钮的工具包在哪下载？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121436442-1477173840.png)

>https://code.choerodon.com.cn/hzero-hzero/hzero-tool

谢谢



### 请问一下，登录界面的静态资源（标题、logo）等，在菜单 系统管理>系统配置  里面设置好了，但是登录界面不起效，还需要有哪些额外的配置么（hzero1.2版本）？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121113937-54786745.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121122751-1979170997.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200312121126616-1934828172.png)

>如果oauth服务、platform服务连接的redis是一个，且正常配置，是不需要有其他配置的




### 文件服务minio配置ssl代理报错了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121517054-199649709.png)

>你首先自己测试下这种模式的minio是否可以正常使用，比较用脚本验证下，现在不确定问题在哪里

minio 本地是http ，我做ssl代理转发
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121558584-712171804.png)

>那还是应该用http
>然后你把代理地址录入到代理地址框里呀

嗯 我们现在前后端都做了https代理
minio配置http只有下载的功能不能用
其他的好像都没问题

>下载不能用是什么错误呢

这个
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121722191-1138899586.png)

>你看看上传后存到数据库的路径是什么



### Hzero 1.2.1版本刷新admin服务路由信息的时候，路径解析不了有遇到过吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121749026-2039107007.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121752848-798321893.png)



### 请问现在报表服务支持1.1版本吗？



### 我用UI权限组件代码扫描工具扫描的时候报这张表和hiam_ui_api表不存在，但是我看平台的初始化脚本并没有这几张表
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121815650-1485085356.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121819017-386515000.png)

而且这个工具只要求hiam_ui_permission_comp这张表



### 配置中心换成 Nacos之后，我如何确定是连接成功的呢？目前启动和运行都没问题

>去nacos可以看到服务

这个是能看见的   上面的那个配置管理倒是看不到什么东西
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121857312-966011167.png)

>你没有做配置，就没有东西呀
>和我们标准的平台治理下的服务配置一个到底，你只有做了配置才会有记录
>没有做配置，说明服务的配置都是用的启动时的默认配置  
>一般没有特别的，都在启动时默认配置好就可以了

我可以在配置服务注册到nacos时所使用的网卡吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121956886-1567847405.png)
类似于这样的是否支持？

>这个你可以试试，或者看看官网文档
>这块我们只是做了适配，功能性还是得看nacos自身的实现

好的，多谢



### 请问hzero的站内消息，前端要怎么配置？websocket_host要改吗？

>这个配置了，可以实现实时提醒，就是小气泡的功能，发送消息，用消息客户端就可以了

好的，谢谢

消息客户端后端代码发送的话不会实时提示，只能刷新页面才能看到，请问具体怎么弄啊

>配置好了websocket就可以实时
>异步刷新

怎么配啊

>前端项目不是有个启动配置参数吗

> 这个  ws://网关地址/hpfm

>你们什么版本？

1.1.0

是这一个吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314122318422-1127255740.png)

>这个
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314122305134-136897808.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314122309738-618082333.png)



### SecurityTokenHelper.validToken 请问已经有outhe服务鉴权了 为什么代码生成器还生成了这句代码 这是什么规范嘛

>这个是数据鉴权，校验返回数据的ID的token信息，防止水平越权



### 请问在同步ldap服务器的用户的时候，如果ldap服务器的数据修改了，怎么才可以拿到最新的数据呢

>重新再同步  会做更新

我这里有密码字段，但是怎么没有获取到呢
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314194732187-1351197582.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314194736386-1953804526.png)

在同步ldap用户的时候

>你同步密码做啥

同步用户的时候，他会校验密码，然后校验不通过，就无法完成同步任务

>这个校验的密码是管理密码

是这个密码吗
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195053809-1255955204.png)

>是呀

请问这个错误是什么原因导致的呢，在ldap同步用户的时候
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195249933-494788622.png)

>把日志截图全一点


### 请问下分布式锁组件，当我锁的程序需要跑70秒，锁的默认自动释放时间为60秒，这种情况下的话，程序处理到60秒，锁就被释放掉了，这个是不是不太合理，当程序没执行完时，应该自动延长锁的有效期才对哦，还是说我哪里没设置到

>可以设置时间，具体看文档

我知道可以设置自动释放时间，你的意思时我的自动释放锁的时间必须设置比程序处理的时间长吗？不是应该我的程序若是在自动释放锁的时间范围内还没处理完， 然后自动延期吗？

>做不了
>加锁的时候就需要指定时间，这个时候怎么能判断出你程序需要多长时间呢，不过你们可以尝试下，选其他的分布式锁方案看能不能做哈

好吧

>你真的可以尝试下，做出来后面我们放到标准的方案里哈，我们现在用的 redission，基于redis的，就是需要一开始就设置TTL，已用redis的KEY过期机制实现的，其他的方案还没有做



### 我们自己开发的android需要用到平台的登录，这个加密应该怎么弄一下

>RSA加密，公钥是在平台服务配置的

这个加密的工具类能提供下吗？我这边没有找到工具类。

>随便网上找一个就可以了，我们可以给你Java的

麻烦给一个java的吧，网上的加密后结果不一致

>这个加密每次加出来都不一样  正常的

不一致登录不成功，麻烦您那边给一份java的工具类，谢谢

>稍等



### 想问一下 版本更新的操作文档在哪个文档平台上 我找了好久没找到，我记得 http://hzerodoc.saas.hand-china.com/zh/docs/ 之前是有的

>这个吗

![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314121653354-2062547513.png)

嗯嗯 找到了  谢谢啦 




### 请问本地启动服务（服务名+工号），swagger调用接口就500或者403 ，但是调用服务器的服务就正常

>403权限的问题，用超级权限测试，或者自己分配权限，500的问题可能是网络的问题，这个自己看看报错或者服务器日志

好的



### 请问 权限控制章节中 这块的软件包我应该去哪里获取呢
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195014881-1013548333.png)

> https://code.choerodon.com.cn/hzero-hzero/hzero-tool

我好像没有这个权限了，hzero-resource 的权限也没有了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195147102-641899467.png)

>你需要登录一下才能看到


已经是登陆状态了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195224927-1386769684.png)


### 请问一下  ，当用户未登录时，跳转到了一个错误的登录链接，正确的登录链接是  http://aptarrun-devk8s.chinanorth2.cloudapp.chinacloudapi.cn:65000/oauth/login

![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195451002-8802032.png)

请问是我哪里配置错了吗？

>检查你的 yaml 配置文件里有没有配这些
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195755732-1047106428.png)

没有
想请教一下，如果pc端页面检测到用户没有登录，是怎么重定向到那个登录页面的\\

>调用接口返回401时，代表用户未登录或token已过期，前端会请求 oauth/authorize 接口获取令牌，用户未登陆， oauth 服务内部重定向到登录页面。具体可以看下文档  http://hzerodoc.saas.hand-china.com/zh/docs/service/oauth/oauth/



### 请问一下 oauth/public/token/kickoff 这个接口是否可以用来判断当前用户是不是在线状态？

有没有大佬知道为什么 查不到在线用户？而且redis里也没有websocket:session-users 这个key
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195525802-821714599.png)

>前端的长连接正常吗

是前端的这个 WEBSOCKET_HOST 配置吧？

>嗯

这个地址应该是 平台服务的 的地址？

>嗯

redis 的 这个key： offline_access:* 也是通过长链接 去判断用户是否在线的？

>嗯\

 谢谢，我自己检查一下。
 长链接的端口和平台服务的端口是同一个吗？

>过网关连接平台服务
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195700415-427457041.png)

>这个接口是用来判断用户是否被踢下线的，目前没有接口判断用户是否在线，后面平台可以加一下



### 关于分布式lock这块，按照redisson的wiki介绍是有个watchDog可以在程序运行时，对LOCK的时间进行自动延期，不知我们有设置入口？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195341766-835712811.png)

>你们先自己看看，这个starter代码公布的，可以调整下，后面把代码贡献出来

好


### 麻烦大家想问一下，这个默认logo要是想换一个的话是后端怎么改呢；我在前端代码上全局没有搜到这个静态图片
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314200009886-396078034.png)

解决了



### 请问 我模拟登录后 feign调用另一个服务却拿不到登录信息，可能的原因是什么
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200314195637588-972142296.png)

>是哪个版本

1.1

>你调试下 JwtRequestInterceptor 这里了会将 CustomUserDetails 转成 Jwt_Token
