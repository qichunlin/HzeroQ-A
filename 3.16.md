### feign调用注册接口，但是报这个错，有哪位同事可以帮忙看看嘛
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231457325-78827037.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231508050-797650080.png)

>这个是servicecomb报出来的错，是华为的分布式事务，平台这边没有使用，应该是产品用到的

好的，谢谢 



### 请问各位大佬, 接口平台调用外部接口的时候报这个错误是什么问题啊
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231532500-1910232531.png)


### 大佬们 这个密码麻烦告知一下
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231629531-1574843223.png)

>handhzero

收到 谢谢


### 之前分布式锁组件，根据程序执行时间自动延长过期时间的问题，其实redisson就有方法可以用的，只是自动释放和自动延长不能同时存在，只要在注解lock把leaseTime = -1，就可以实现自动延长了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231706063-600478940.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231710993-338380800.png)

>好的，之前没有验证  我们把文档也调整下，加上这个说明



### 请问一下hzero能否配置多数据源，或者有没有项目使用过多数据源，可不可以给个例子参考一下

>多数据源没有什么特殊的，你们是基于什么目的做多数据源？




### 请问值集视图预览报sql错误，但是我在atn的服务里面又看不到sql信息，请问在哪个服务上看，sql在我本地运行没问题，前缀也都加上了

>值集配的哪个服务就是哪个服务


### 请问一下 iam_role_permission 这个表里 type = 'HITF_ITF'  的数据是如何维护进去的？
>这个是接口平台产生的数据

那为什么在通过接口平台创建一个新接口的时候，默认权限除了给默认的 2个 角色，不给当前创建这个接口的角色进行默认授权？

>非默认授权的角色，需要单独授权

所以就存在我自己创建的接口还需要上级角色进行接口授权才能进行使用？

>是的，不存在自己创建接口，权限都是自上而下，你只是有创建接口的权限而已，不代表你有创建的接口权限，这是两个事情



### 文件上传，这种异常是怎么回事
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231854750-280653977.png)

>你上传的什么文件

pdf

有时候还会这种异常
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231913517-830695908.png)

>调的哪个接口

/v1/{organizationId}/files/multipart"
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231925226-2014375959.png)

>minio什么版本，建议安装
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231943050-906558071.png)



### 请问，切换到平台级，卡片管理只查出来一条数据 是因为什么原因
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316231956923-493643980.png)

>你是否有正常分配权限，卡片除了全局的卡片，其他的是要给角色分配权限的

还没分配 就是全局的卡片也没查出来

>查不出来是指设置那里选不到   你帮忙看一下

是的

>你要把卡片分配到角色上 
>在角色管理--工作台配置那边
>所谓全局层的卡片是指该卡片可以分配到全部角色上  租户层的卡片指的是可以分配到指定租户下的角色上  卡片要在角色层面上进行配置才可以在用户工作台上展示出来

哦哦 好的 谢谢



### 请问1.2.1版本的部分服务(目前发现报表和调度服务)在进行页面自带的那些查询时，后台会报sql错误，我们用的是sql service。这会是跟数据库类型有关系吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232147111-655079482.png)

>sql打出来看下

好的，我私发你。



### 请问大家配置HZERO平台的报表时有遇到这个问题吗？就是模板报表配置好后，运行结果是正确的，导入的Word也是好的，但是导出的PDF是乱码的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232014187-89364152.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232019846-2099963853.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232025119-812742519.png)

>字体问题，定义rtf模板时只用黑体是没问题的，需要别的字体参考这个配置
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232036855-53947743.png)

多谢了，我下去看看


### 我在代码里边想中止一个流程的时候，报错Cannot delete or update a parentrow: a foreign key constraint fails (`hzero_workflow_plus`.`act_ru_identitylink`, CONSTRAINT `act_fk_idl_procinst` FOREIGN KEY (`proc_inst_id_`) REFERENCES `act_ru_execution` (`id_`))我应该怎么去正确中止一个流程呢？

his.activitiService.deleteProcessInstance(delegateTask.getProcessInstanceId());

>运行中的流程没办法直接删除，如果需要这种操作 要在代码中获取到当前激活的任务 然后手动跳转导结束节点，在流程结束之后删除流程

我也发现了，那我就去找结束节点，然后跳转吧
请问咱们有没有封装查找结束节点的方法呢？

>没有



### 有大佬帮我瞅下为啥加上hzero-boot-data-change依赖项目就启动不了报错吗
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232344248-476221307.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232348568-618043963.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232358387-953219205.png)

>还需要依赖 boot-transfer和boot-monitor

还是不行啊
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232420939-770842716.png)

>hzero-boot-monitor
>为啥要依赖data-change

看文档的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232442242-675172227.png)

>需要用到这个功能？

是啊，希望可以用

>data-change只提供了接口  boot-transfer和boot-monitor是他的两个实现
>我建议是先明确自己需要哪些功能再添加依赖  有些以来加进去可能需要额外加一些配置或者实现才能用


我看是给审计功能添加基础数据就加上了，下面的application.yml配置也加了，但是就是跑不起来
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232520562-1395198467.png)

>他提供数据改变的监听功能，但是实现是在boot-monitor  直接看监控服务的客户端

只引入hzero-boot-monitor也是一样的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232546925-1906951378.png)


>报错是什么 文档里边的配置缩进有问题

这个
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232601671-1542907264.png)

>是的

这个文档里有但是有问题，按住ctrl跳不过去
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232628398-1918267684.png)

>并不一定都能跳过去 看代码实现方式了

>配置错了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232642621-135272013.png)

多了一个D 我说怎么跳不过去
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232658633-275812978.png)



### 哪位大佬有角色管理功能的全部前端源码 我想做一个类似的功能



### 请问1.2.1版本的IAM服务对应页面上API管理的页面的刷新权限的接口是不是这个？我在使用的时候发现请求的URL是带租户Id的，但是看了下iam服务这里的api貌似没有个租户级的参数存在。我看了前端代码也是有根据判断是否是租户而去拼接租户Id，请问这块是不是弄错了？还是说我找的不对？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232814369-664237300.png)

![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232829852-1843917200.png)

这是刷新时的请求url：
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232838337-1145207614.png)

>你用的OP版本吧，这个我们处理下




### 我想问下，我工作流审批的规则选择，指定人，然后我这个指定人是不确定的，我要怎么处理？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232854905-262606989.png)



### 我在启动工作流的时候赋值了employeeCode，它可以进入到下一个节点，但是，下一个节点的员工无法看到这个工作流，我还需赋值什么吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232909090-2045055962.png)





### 再问两个事儿：1.流程参数里边，接口传过来的参数，传小数过来，咱们这边解析的时候，可以正常解析吗？
2.因为流程异常/参数异常导致的挂起，咱们有办法去回复吗？假如用户那边很长的流程，走到最后了，发现跳转条件不对，那么可以恢复流程吗？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232751172-549348243.png)

3.跳转到结束节点的代码写了之后，会说不能更新child task，之前结束流程是不能更新parent task
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232929773-1173153275.png)
那我应该怎么去处理一个人拒绝，所有活动节点加整个流程都结束这件事呢？




### 这里分配按钮权限没有作用，我在iam_role表里面看了是角色的level_path不对，有没有办法重新初始化一下这个呀。
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316232950207-199100511.png)

>IAM Tool Data Fix 接口下可以修复levelPath

掉过那两个修复数据的接口了，但是这里还是勾选之后没有效果
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233233227-2135055290.png)

>调这个接口 
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233309045-1173776663.png)

已经可以了




### 想咨询下，api个性化，应用规则的时候报错，谁能帮忙解答下什么原因？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233006241-217524120.png)

>下面还有其它日志没有

就这些了  界面提示操作成功
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233116564-1577052458.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233121573-1965008374.png)


>本地可以调试下这里，创建代理程序失败了，看是哪一步出错了
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233203920-1591742494.png)

jar.getParentFile().mkdirs();这个返回的false
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233251713-1152788429.png)


>你看下目录下是否存在 customize-agent.jar
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233323121-274185183.png)


agent目录下没有customize-agent.jar

>没有jar，却判断存在了，这就有点怪了。把 customize 目录全删了，重启服务调试创建代理程序那块

好的，我试下
customize 目录全删了，直接重启，就好了。这样应该就可以了对吧？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200316233400347-1553900160.png)

>嗯

好的，谢谢！


